import{r as m,j as e,Y as w,y as d}from"./app-4CarAZae.js";import{P as u}from"./Pagination-CSCna3ch.js";import"./SelectInput-CHXUtI-C.js";import"./TextInput-DyNG2S4m.js";import{A as S}from"./AuthenticatedLayout-DlZAqirn.js";import{T as r}from"./TableHeading-2ju96-yK.js";import{P as C}from"./PrimaryButton-D4siN8KF.js";import{D as v}from"./DeleteButton-CfGaPNIM.js";import{A as M}from"./AddButton-Cj9YlLQU.js";import{f as i,C as h}from"./CustomDatePicker-DMV3Ys4h.js";import{S as B}from"./SecondaryButton-B0X3liJG.js";import{S as D}from"./ScrollBar-2ExapV3B.js";import{S as A}from"./SuccessMessage-CL-2JUjC.js";import{T as E}from"./Title-Dy3FFUwd.js";import"./ApplicationLogo-Dv8uwSlW.js";import"./transition-B3zTIZ2S.js";import"./NavLink-Bq0O64v2.js";import"./DarkMode-Bf1Neqjf.js";import"./iconBase-TbwvlisU.js";import"./ResponsiveMenu-BnbI3YqC.js";import"./index-_Gq6pFcl.js";import"./Modal-DeS_P8Lr.js";import"./InputError-BzZEBFuT.js";function se({auth:j,boxs:c,queryParams:t,totalAmount:f=null,success:n,message:x}){t=t||{};const[a,g]=m.useState(t.start_date&&i(t.start_date,"dd-MM-yyyy")||null),[o,y]=m.useState(t.end_date&&i(t.end_date,"dd-MM-yyyy")||null),N=(s,p)=>{t.start_date=a&&i(a,"dd-MM-yyyy"),t.end_date=o&&i(o,"dd-MM-yyyy"),console.log(t),d.get(route("box.index"),t)},l=s=>{s===t.sort_field?t.sort_direction==="asc"?t.sort_direction="desc":t.sort_direction="asc":(t.sort_field=s,t.sort_direction="asc"),d.get(route("box.index"),t)},_=s=>{window.confirm("هل تريد بالتأكيد حذف هذا المصروف ؟")&&d.delete(route("box.destroy",s.id))},b=s=>{d.get(route("box.edit",s))},k=()=>{d.get(route("box.create"))};return e.jsxs(S,{user:j.user,message:x,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(E,{children:"النفقات والمصاريف"}),e.jsx(D,{message:x}),e.jsx(M,{onClick:s=>k(),children:"إضافة"})]}),children:[e.jsx(w,{title:"النفقات والمصاريف"}),e.jsx("div",{className:"py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[n&&e.jsx(A,{message:n}),e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-2 text-gray-900 dark:text-gray-100",children:[e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-md font-semibold rtl:text-right text-gray-800 dark:text-gray-200",children:[e.jsx("thead",{className:"text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b-2 border-gray-500",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx(r,{name:"created_at",sort_field:t.sort_field,sort_direction:t.sort_direction,sortChanged:l,children:"التاريخ"}),e.jsx(r,{name:"amount",sort_field:t.sort_field,sort_direction:t.sort_direction,sortChanged:l,children:"المبلغ"}),e.jsx(r,{name:"statment",sort_field:t.sort_field,sort_direction:t.sort_direction,sortChanged:l,children:"البيان"}),e.jsx(r,{sortable:!1,children:"التحكم"})]})}),e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 border-b-2 border-gray-500",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsxs("th",{className:"flex px-3 py-3 w-[150px]",children:[e.jsx(r,{sortable:!1,children:"من"}),e.jsx(h,{className:"w-[110px] h-[35px] mt-1",selected:a,onChange:s=>g(s)}),e.jsx(r,{sortable:!1,children:"إلى"}),e.jsx(h,{className:"flex w-[110px] h-[35px] mt-1",selected:o,onChange:s=>y(s)})]}),e.jsx("th",{className:"px-3 py-3",children:e.jsx(B,{onClick:s=>N(),disabled:!a&&!o,children:"تصفية"})}),e.jsx("th",{className:"px-3 py-3"}),e.jsx("th",{className:"px-3 py-3"})]})}),e.jsx("tbody",{className:"text-center",children:c.data.map(s=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:s.created_at}),e.jsx("td",{className:"px-3 py-2",children:s.amount}),e.jsx("td",{className:"px-3 py-2",children:s.statment}),e.jsxs("td",{className:"px-3 py-2 text-nowrap",children:[e.jsx(C,{onClick:p=>b(s),children:"تعديل"}),e.jsx(v,{onClick:p=>_(s),children:"حذف"})]})]},s.id))}),e.jsx("tfoot",{className:"text-center",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3",children:"المجموع"}),e.jsx("th",{className:"px-3 py-3",children:f}),e.jsx("th",{className:"px-3 py-3"}),e.jsx("th",{className:"px-3 py-3"})]})})]})}),e.jsx(u,{links:c.meta.links})]})})]})})]})}export{se as default};
